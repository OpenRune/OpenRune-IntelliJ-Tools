<idea-plugin>
    <id>dev.openrune</id>
    <name>OpenRune</name>
    <version>1.0.0</version>
    <vendor email="runetools8@gmail.com" url="https://openrune.dev/">OpenRune</vendor>
    <description><![CDATA[
        OpenRune is a comprehensive suite of tools and utilities tailored for the Old School RuneScape (OSRS) community. It provides advanced functionalities for interacting with the OpenRune FileStore, making development and data analysis easier for OSRS-related projects.
    ]]></description>

    <!-- please see https://www.jetbrains.org/intellij/sdk/docs/basics/getting_started/plugin_compatibility.html
         on how to target different products -->
    <!-- Minimum version: 2024.2 (242) for Kotlin 2.2 support -->
    <idea-version since-build="242" />
    <depends>com.intellij.modules.platform</depends>
    <depends>com.intellij.java</depends>
    <depends>com.intellij.modules.lang</depends>
    <depends optional="true" config-file="rscm-withKotlin.xml">org.jetbrains.kotlin</depends>
    <depends optional="true" config-file="rscm-withTOML.xml">org.toml.lang</depends>
    <category>Game Development</category>

    <extensions defaultExtensionNs="com.intellij">
        <!-- Persistence -->
        <projectConfigurable instance="io.blurite.rscm.settings.RSCMProjectSettingsConfigurable"
                             displayName="OpenRune Settings"/>
        <lang.elementManipulator forClass="io.blurite.rscm.language.psi.RSCMProperty"
                                 implementationClass="io.blurite.rscm.language.RSCMPropertyManipulator"/>

        <lang.commenter
                language="RuneScape Config Mapping"
                implementationClass="io.blurite.rscm.language.RSCMCommenter"/>

        <lang.documentationProvider
                language="RuneScape Config Mapping"
                implementationClass="io.blurite.rscm.language.quickdoc.RscmDocumentationProvider"/>

        <renamePsiElementProcessor implementation="io.blurite.rscm.language.RSCMRenamePsiElementProcessor"/>

        <lang.elementManipulator forClass="org.toml.lang.psi.TomlFile"
                                 implementationClass="io.blurite.rscm.language.TomlFileManipulator"/>
        <lang.elementManipulator forClass="org.toml.lang.psi.TomlKeySegment"
                                 implementationClass="io.blurite.rscm.language.TomlKeySegmentManipulator"/>

        <fileType name="RuneScape Config Mapping File" implementationClass="io.blurite.rscm.language.RSCMFileType"
                  language="RuneScape Config Mapping" extensions="rscm"/>
        <lang.parserDefinition language="RuneScape Config Mapping"
                               implementationClass="io.blurite.rscm.language.RSCMParserDefinition"/>
        <lang.syntaxHighlighterFactory language="RuneScape Config Mapping"
                                       implementationClass="io.blurite.rscm.language.RSCMSyntaxHighlighterFactory"/>

        <lang.findUsagesProvider language="RuneScape Config Mapping"
                                 implementationClass="io.blurite.rscm.language.RSCMFindUsagesProvider"/>
        <lang.refactoringSupport language="RuneScape Config Mapping"
                                 implementationClass="io.blurite.rscm.language.RSCMRefactoringSupportProvider"/>
        <lang.namesValidator language="RuneScape Config Mapping"
                             implementationClass="io.blurite.rscm.language.RSCMNamesValidator"/>
        <lookup.charFilter implementation="io.blurite.rscm.language.completion.RSCMCompletionCharFilter"
                           order="first"/>
        <psi.referenceContributor implementation="io.blurite.rscm.language.RSCMReferenceContributor"/>
        <codeInsight.gotoDeclarationHandler implementation="dev.openrune.language.AlterConstantGotoDeclarationHandler"/>

        <!-- Java -->
        <annotator language="JAVA" implementationClass="io.blurite.rscm.language.annotator.RSCMJavaAnnotator"/>

        <codeInsight.lineMarkerProvider language="JAVA"
                                        implementationClass="io.blurite.rscm.language.marker.RSCMJavaLineMarkerProvider"/>
        <lang.foldingBuilder language="JAVA" implementationClass="io.blurite.rscm.language.RSCMFoldingBuilder"/>
        <completion.confidence language="JAVA"
                               implementationClass="io.blurite.rscm.language.completion.RSCMJavaCompletionConfidence"
                               order="before javaSkipAutopopupInStrings"/>
    </extensions>

    <extensions defaultExtensionNs="org.jetbrains.kotlin">
        <supportsKotlinPluginMode supportsK2="true"/>
    </extensions>

    <actions>
        <!-- Add your actions here -->
    </actions>
</idea-plugin>
